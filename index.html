<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<!-- ================= META TAGS COMPLETAS (SEO + SOCIAL) ================= -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SEO PRINCIPAL -->
<title>Biblioteca Online ‚Äî O Poder do Conhecimento Oculto</title>
<meta name="description" content="Explore livros e eBooks em PDF sobre manipula√ß√£o, psicologia, autoajuda e finan√ßas. Conhe√ßa o lado oculto da mente humana e aprenda a dominar seu pr√≥prio destino.">
<meta name="keywords" content="livros, ebooks, pdf, manipula√ß√£o, psicologia, autoajuda, finan√ßas, comportamento humano, mente, poder, persuas√£o, desenvolvimento pessoal, leitura online, biblioteca">
<meta name="author" content="Biblioteca Online">
<meta name="robots" content="index, follow">

<!-- SEO T√âCNICO -->
<link rel="canonical" href="https://castro7-7.github.io/biblioteca-online/">
<meta name="theme-color" content="#4B0082"> <!-- roxo escuro elegante -->
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- OPEN GRAPH (Facebook, WhatsApp, Instagram) -->
<meta property="og:title" content="Biblioteca Online ‚Äî O Poder do Conhecimento Oculto">
<meta property="og:description" content="Descubra livros e eBooks sobre manipula√ß√£o, psicologia e autoaperfei√ßoamento. Um acervo digital para mentes curiosas e ambiciosas.">
<meta property="og:image" content="https://castro7-7.github.io/biblioteca-online/capa-biblioteca.png">
<meta property="og:image:alt" content="Capa da Biblioteca Online ‚Äî livros de manipula√ß√£o, psicologia, autoajuda, finan√ßas e muito mais.">
<meta property="og:url" content="https://castro7-7.github.io/biblioteca-online/">
<meta property="og:type" content="website">
<meta property="og:locale" content="pt_BR">

<!-- TWITTER CARDS -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Biblioteca Online ‚Äî Conhecimento que Transforma">
<meta name="twitter:description" content="Livros e eBooks sobre manipula√ß√£o, psicologia e finan√ßas. Desperte o poder que h√° na mente.">
<meta name="twitter:image" content="https://raw.githubusercontent.com/castro7-7/biblioteca-online/main/capa-biblioteca.png">

<!-- FAVICON -->
<link rel="icon" type="image/png" href="https://castro7-7.github.io/biblioteca-online/favicon-32x32.png">

<!-- ===================================================================== -->

  <title>Biblioteca Online</title>
  <style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  overflow-x: hidden;
  font-family: 'Arial', sans-serif;
  color: #fff;
  background: #1b0f2e; /* cor base roxo dark */
  position: relative; 
  z-index: -1;
}

header {
  text-align: center;
  padding: 40px 20px; /* padding apenas para o cabe√ßalho */
}

header h1 span {
  color: #fff; /* emoji fica branco normal */
  background: none; /* remove shine do emoji */
  -webkit-background-clip: unset;
  background-clip: unset;
}


header h1 {
  font-size: 2.5rem;
  font-weight: bold;
  margin-bottom: 10px;
  position: relative;
  display: inline-block;
  color: transparent; /* texto transparente para usar o background-clip */
  background: linear-gradient(
    90deg,
    #fff 0%,        /* cor base das letras */
    rgba(180,150,255,0.2) 50%, /* brilho roxo */
    #fff 100%
  );
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  animation: shine 7s linear infinite;
}

header h1::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    120deg, 
    rgba(128, 90, 200, 0) 0%,      
    rgba(180, 150, 255, 0.6) 50%,  
    rgba(128, 90, 200, 0) 100%     
  );
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  animation: shine 3s linear infinite;
  pointer-events: none;   /* evita interfer√™ncia no layout */
  z-index: 1;             /* garante que fique sobre as letras */
}


header h2 {
  font-size: 1.2rem;
  font-weight: normal;
  color: #fff;
  opacity: 0.8;
  margin-top: 0.5rem;
}

@keyframes shine {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}




    /* CARROSSEL */
    .carousel-container {
      position: relative;
      width: 90%;
      max-width: 900px;
      margin: 40px auto;
      overflow: hidden;
    }
    .carousel-track {
      display: flex;
      transition: transform 0.5s ease;
      padding: 20px 0;
      box-sizing: border-box;
    }
    .carousel-item {
      width: 160px;
      height: 240px;
      margin: 0 10px;
      flex-shrink: 0;
      opacity: 0.6;
      transform: scale(0.9);
      transition: all 0.5s ease;
      cursor: pointer;
      position: relative;
      border: 2px solid transparent;
      border-radius: 10px;
    }
    .carousel-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 10px;
      display: block;
    }
    .carousel-item.active { opacity: 1; transform: scale(1); }
    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      color: #fff;
      border: none;
      font-size: 2em;
      padding: 5px 10px;
      cursor: pointer;
      border-radius: 5px;
      z-index: 10;
    }
    #prev { left: 1px; }
    #next { right: 1px; }

    /* LISTA DE LIVROS */
    .container { width:90%; max-width:1000px; margin:30px auto; }
    .library-list { display:flex; flex-direction:column; gap:20px; }
    .livro {
      display:flex;
	  background: rgba(128, 90, 200, 0.1);
      border-radius:16px;
      padding:15px;
      width:100%;
      min-height:160px;
      align-items:flex-start;
      gap:15px;
      box-shadow:0 2px 10px rgba(0,0,0,0.4);
      transition:transform 0.3s ease, border-color 0.3s ease;
      position: relative;
    }
	
    .livro:hover {
     transform: translateY(-3px);
     background: rgba(124, 58, 237, 0.1); /* Efeito roxo ao passar o mouse */
     }

    .livro img {
      width:110px;
      height:160px;
      object-fit:cover;
      border-radius:8px;
      flex-shrink:0;
    }
    .livro-info { flex:1; display:flex; flex-direction:column; justify-content:center; }
    .livro-info h2 { margin-top:0; margin-bottom:6px; font-size:1.3em; }
    .livro-info p { margin-bottom:10px; line-height:1.4; opacity:0.9; }
    .botao {
      display:inline-block;
      padding:8px 10px;
      background:#7c3aed;
      color:white;
      text-decoration:none;
      border-radius:8px;
      font-weight:bold;
      transition: background 0.3s;
    }
    .botao:hover { background:#5b21b6; }

    /* Contador individual dos livros */
    .livro-views {
      position: absolute;
      top: 10px;
      right: 10px;
      display:flex;
      align-items:center;
      gap:5px;
      font-size: 0.9rem;
    }
    .livro-views img { width:18px; height:18px; }

    /* Borda piscando efeito hacker */
    @keyframes flashBorder {
      0%,100% { border-color: #7c3aed; }
      50% { border-color: #00ff00; }
    }
    .flash { animation: flashBorder 1s ease 0s 3; }

    /* Contador total */
    #total-visits {
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      font-size:1.2rem;
      margin:15px auto;
    }
    #total-visits img { width:24px; height:24px; }

#painelAdmin {
  display: none;
  position: fixed;
  top: 5%;
  right: 5%;
  width: 90%;
  max-width: 1000px;
  height: 90%;
  background: rgba(30, 30, 30, 0.95);
  color: #fff;
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  backdrop-filter: blur(8px);
  z-index: 9999;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Abas */
#painelAdmin .tabs {
  display: flex;
  justify-content: space-around;
  background: rgba(40,40,40,0.95);
  border-bottom: 1px solid #555;
}
#painelAdmin .tabs button {
  flex: 1;
  padding: 12px 0;
  border: none;
  background: transparent;
  color: #aaa;
  font-weight: 600;
  cursor: pointer;
  transition: 0.3s;
  font-size: 15px;
}
#painelAdmin .tabs button:hover {
  color: #00bfff;
}
#painelAdmin .tabs button.active {
  color: #00bfff;
  border-bottom: 3px solid #00bfff;
}

/* Conte√∫do das abas */
#painelAdmin .tab-content {
  padding: 15px;
  flex: 1;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* Cards de estat√≠sticas */
.dashboard-cards {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}
.dashboard-card {
  flex: 1;
  min-width: 180px;
  background: rgba(50,50,50,0.9);
  padding: 12px 15px;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}
.dashboard-card h3 {
  margin: 0;
  font-size: 16px;
  color: #00bfff;
}
.dashboard-card p {
  margin: 5px 0 0;
  font-size: 18px;
  font-weight: bold;
}

/* Tabelas */
#painelAdmin table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 12px;
}
#painelAdmin th, #painelAdmin td {
  padding: 7px;
  border: 1px solid #444;
  font-size: 14px;
  text-align: left;
}

/* Gr√°ficos */
#painelAdmin canvas {
  width: 100% !important;
  height: 300px !important;
}

/* Mapa */
#mapaAcessos {
  width: 100%;
  height: 300px;
  border-radius: 10px;
}


    /* RODAP√â */
    footer { background:#1a0f2e; text-align:center; padding:25px 20px; margin-top:50px; color:#aaa; }
    footer p { margin:5px 0; }
    footer a { color:#7c3aed; text-decoration:none; margin:0 8px; }
    footer a:hover { text-decoration:underline; }

    /* Mobile ajustes */
    @media(max-width:768px){
      .carousel-item { width:140px; height:210px; margin:0 8px; }
      .livro img { width:90px; height:130px; }
      .livro-views img { width:14px; height:14px; }
      #total-visits img { width:18px; height:18px; }
    }
	/* ===== PESQUISA ===== */
#search-icon {
  position: fixed;
  top: 25px;
  right: 25px;
  background: none;
  padding: 10px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 1000;
  box-shadow: 0 0 12px rgba(0,0,0,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
}

#search-icon svg {
  stroke: white;       /* cor do √≠cone */
  width: 28px;         /* tamanho */
  height: 28px;
  transition: stroke 0.3s;
}

#search-icon:hover svg {
  stroke: #aaa;        /* muda cor ao passar o mouse */
}

#search-bar {
  position: fixed;
  top: 25px;
  right: 75px;
  background: rgba(255,255,255,0.1);
  border-radius: 30px;
  overflow: hidden;
  width: 0;
  height: 40px;
  transition: width 0.4s ease;
  display: flex;
  align-items: center;
  z-index: 999;
}
#search-bar.active {
  width: 250px;
  padding: 0 10px;
}
#search-bar input {
  flex: 1;
  border: none;
  background: transparent;
  color: white;
  font-size: 1rem;
  outline: none;
  padding-left: 10px;
}

/* ===== MENU DE CATEGORIAS ===== */
#category-btn {
  position: fixed;
  top: 25px;
  left: 25px;
  background: none;
  color: white;
  padding: 10px 14px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  z-index: 1000;
  transition: background 0.3s ease;
}
#category-btn:hover {
  background: none;
}

#category-menu {
  position: fixed;
  top: 0;
  left: -280px;
  width: 240px;
  height: 100%;
  background: rgba(26,15,46,0.97);
  color: white;
  padding: 30px 20px;
  transition: left 0.4s ease;
  z-index: 999;
  box-shadow: 3px 0 12px rgba(0,0,0,0.4);
}
#category-menu.active {
  left: 0;
}
#category-menu h3 {
  margin-top: 0;
  text-align: center;
  margin-bottom: 15px;
  border-bottom: 2px solid #7c3aed;
  padding-bottom: 8px;
}
#category-menu ul {
  list-style: none;
  padding: 0;
}
#category-menu li {
  padding: 10px;
  margin-bottom: 5px;
  background: rgba(255,255,255,0.1);
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.3s;
}
#category-menu li:hover {
  background: #7c3aed;
}

/* Mobile */
@media (max-width: 600px) {
  #search-bar.active { width: 180px; }
}
/* ===== GRID DE LIVROS ===== */
#search-results {
  display: none;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 30px;
  padding: 110px 100px;
  justify-items: center;
  align-items: start;
  animation: fadeIn 0.5s ease;
}

/* Cards dentro do grid */
.grid-resultados .card-livro {
  position: relative;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: 12px;
  padding: 15px;
  width: 180px;
  height: 320px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  text-align: center;
  color: white;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Pseudo-elemento para o shine */
.grid-resultados .card-livro::before {
  content: '';
  position: absolute;
  top: 0;
  left: -50%; /* fora do card */
  width: 50%;
  height: 100%;
  background: linear-gradient(
    120deg,
    rgba(180,150,255,0) 0%,
    rgba(180,150,255,0.3) 50%,
    rgba(180,150,255,0) 100%
  );
  transform: skewX(-20deg);
  z-index: 2;
  pointer-events: none;
  opacity: 0; /* invis√≠vel por padr√£o */
}

/* Levanta o card no hover */
.grid-resultados .card-livro:hover {
  transform: translateY(-5px);
}

.grid-resultados .card-livro img {
  width: 100%;
  height: 260px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 10px;
}

.grid-resultados .card-livro h4 {
  margin: 0;
  font-size: 1rem;
  color: #fff;
  flex-grow: 1;
}

/* Responsividade */
@media (max-width: 900px) {
  #search-results {
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    padding: 90px 10px;
  }
  .grid-resultados .card-livro {
    width: 140px;
    height: 250px;
  }
  .grid-resultados .card-livro img {
    height: 180px;
  }
}

/* FadeIn */
@keyframes fadeIn {
  from {opacity: 0; transform: translateY(15px);}
  to {opacity: 1; transform: translateY(0);}
}


</style>
</head>
<body>
<!-- √çcone de busca fixo -->
<div id="search-icon">
  <svg id="icon-svg" width="30" height="30" viewBox="0 0 64 64">
    <!-- Lupa -->
    <circle id="lens" cx="27" cy="27" r="16" stroke="white" stroke-width="4" fill="none"/>
    <line id="handle" x1="41" y1="41" x2="55" y2="55" stroke="white" stroke-width="4"/>
    <!-- Casinha (inicialmente invis√≠vel) -->
    <polygon id="house" points="16,32 32,16 48,32 48,48 16,48" fill="white" opacity="0"/>
  </svg>
</div>



<!-- Barra de pesquisa -->
<div id="search-bar">
  <input type="text" id="search-input" placeholder="Pesquisar livros...">
</div>
<!-- Grid de resultados da pesquisa -->
<div id="search-results" class="grid-resultados"></div>

<!-- Bot√£o e menu de categorias -->
<div id="category-btn">‚ò∞ Categoria</div>
<div id="category-menu">
  <h3>Categorias</h3>
  <ul>
    <li data-category="todos">Todos</li>
    <li data-category="motiva√ß√£o">Motiva√ß√£o</li>
    <li data-category="autoajuda">Autoajuda</li>
    <li data-category="psicologia">Psicologia</li>
    <li data-category="manipula√ß√£o">Manipula√ß√£o</li>
    <li data-category="poder">Poder</li>
    <li data-category="estrat√©gia">Estrat√©gia</li>
	<li data-category="Comportamento Humano">Comportamento Humano</li>
	<li data-category="Finan√ßas">finan√ßas</li>
  </ul>
</div>

  <header>
    <h1><span>üìö</span>  Biblioteca Online</h1>
    <h2>Uma cole√ß√£o de livros digitais para quem busca crescimento pessoal, motiva√ß√£o e transforma√ß√£o.</h2>
  </header>

  <div class="container">
    <!-- CARROSSEL -->
    <div class="carousel-container" id="carousel-container">
      <button class="carousel-btn" id="prev">&#10094;</button>
      <div class="carousel-track" id="carousel-track">
        <div class="carousel-item" data-book="invisivel">
          <a href="livros/Liberte-se do inimigo invis√≠vel.html"><img src="livros/img/invisivel.png" alt="Liberte-se do inimigo invis√≠vel"></a>
        </div>
        <div class="carousel-item" data-book="potencial">
          <a href="livros/destravando.html"><img src="livros/img/potencial.png" alt="Destravando Seu Potencial"></a>
        </div>
        <div class="carousel-item" data-book="48leis">
          <a href="livros/48-leis-do-poder.html"><img src="livros/img/48.png" alt="48 Leis do Poder"></a>
        </div>
        <!-- NOVO LIVRO -->
        <div class="carousel-item" data-book="fbi">
          <a href="livros/fbi.html"><img src="livros/img/fbi.png" alt="Manual de Persuas√£o da FBI"></a>
        </div>  
         <div class="carousel-item" data-book="influenciar-pessoas">
          <a href="livros/influenciar-pessoas.html"><img src="livros/img/influenciar-pessoas.png" alt="Como fazer amigos e influencair pessoas"></a>
        </div>
        <div class="carousel-item" data-book="poder-manipula√ßao">
          <a href="livros/Poder-Manipula√ß√£o.html"><img src="livros/img/poder-manipula√ßao.png" alt="poder $ manipula√ß√£o Jacob Petry"></a>
        </div>
        <div class="carousel-item" data-book="manipula√ßao-oculta">
          <a href="livros/Manipulacao-oculta.html"><img src="livros/img/manipula√ßao-oculta.png" alt="manipula√ßao oculta"></a>
        </div>
        <div class="carousel-item" data-book="engenharia-social">
          <a href="livros/engenharia-social.html"><img src="livros/img/engenharia-social.png" alt="engenharia social"></a>
        </div>
        <div class="carousel-item" data-book="sedu√ßao-maquiavelica">
          <a href="livros/seducao-maquiavelica.html"><img src="livros/img/sedu√ßao-maquiavelica.png" alt="sedu√ßao maquiavelica"></a>
        </div>
	    <div class="carousel-item" data-book="o-que-todo-corpo-fala">
  		  <a href="livros/oque-todo-corpo-fala.html">
          <img src="livros/img/oque-todo-corpo-fala.png" alt="O Que Todo Corpo Fala">
          </a>
        </div>
	    <div class="carousel-item" data-book="como-convencer-alguem-em-90-segundos">
 			 <a href="livros/como-convencer-90-seg.html">
   			 <img src="livros/img/como-convencer-alguem-90-seg.png" alt="Como Convencer Algu√©m em 90 Segundos">
 			 </a>
   		</div>
		  <div class="carousel-item" data-book="a-arte-de-ler-mentes">
		  <a href="livros/arte-de-ler-mentes.html">
	      <img src="livros/img/arte-de-ler-mentes.png" alt="A Arte de Ler Mentes">
 		  </a>
		</div>
		<div class="carousel-item" data-book="o-homem-mais-rico-da-babilonia">
		  <a href="livros/babilonia.html">
   		 <img src="livros/img/babilonia.png" alt="O Homem Mais Rico da Babil√¥nia ‚Äì George S. Clason">
 		 </a>
		</div>

      </div>
      <button class="carousel-btn" id="next">&#10095;</button>
    </div>

    <!-- LISTA DE LIVROS -->
    <div class="library-list">
      <div class="livro" data-book="invisivel">
        <img src="livros/img/invisivel.png" alt="Liberte-se do inimigo invis√≠vel">
        <div class="livro-info">
          <h2>Liberte-se do inimigo invis√≠vel</h2>
          <p>Baseado em ‚ÄúMais Esperto que o Diabo‚Äù, este livro ajuda a identificar obst√°culos invis√≠veis e liberar seu potencial.</p>
          <a href="livros/Liberte-se do inimigo invis√≠vel.html" class="botao">Ver detalhes</a>
        </div>
        <div class="livro-views"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/><span>0</span></div>
      </div>
      <div class="livro" data-book="potencial">
        <img src="livros/img/potencial.png" alt="Destravando Seu Potencial">
        <div class="livro-info">
          <h2>Destravando Seu Potencial</h2>
          <p>Um guia pr√°tico para desbloquear sua mente e alcan√ßar seus objetivos.</p>
          <a href="livros/destravando.html" class="botao">Ver detalhes</a>
        </div>
        <div class="livro-views"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/><span>0</span></div>
      </div>
      <div class="livro" data-book="48leis">
        <img src="livros/img/48.png" alt="48 Leis do Poder">
        <div class="livro-info">
          <h2>48 Leis do Poder</h2>
          <p>Domine as regras do poder e influencie pessoas de forma estrat√©gica.</p>
          <a href="livros/48-leis-do-poder.html" class="botao">Ver detalhes</a>
        </div>
        <div class="livro-views"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/><span>0</span></div>
      </div>
      <!-- NOVO LIVRO -->
      <div class="livro" data-book="fbi">
        <img src="livros/img/fbi.png" alt="Manual de Persuas√£o da FBI">
        <div class="livro-info">
          <h2>Manual de Persuas√£o da FBI</h2>
          <p>Aprenda t√©cnicas de persuas√£o utilizadas por agentes do FBI para influenciar decis√µes e conduzir entrevistas com sucesso.</p>
          <a href="livros/fbi.html" class="botao">Ver detalhes</a>
        </div>
        <div class="livro-views"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/><span>0</span></div>
      </div>
      <div class="livro" data-book="influenciar-pessoas">
        <img src="livros/img/influenciar-pessoas.png" alt="Manual de Persuas√£o da FBI">
        <div class="livro-info">
         <h2>Como Fazer Amigos e Influenciar Pessoas</h2>
         <p>Descubra estrat√©gias comprovadas para conquistar amizades verdadeiras, fortalecer conex√µes e influenciar pessoas de forma positiva em qualquer ambiente.</p>
         <a href="livros/influenciar-pessoas.html" class="botao">Ver detalhes</a>
        </div>
        <div class="livro-views"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/><span>0</span></div>
      </div>
 <!-- Poder & Manipula√ß√£o ‚Äì Jacob Petry -->
      <div class="livro" data-book="poder-manipulacao">
        <img src="livros/img/poder-manipula√ßao.png" alt="Poder & Manipula√ß√£o">
        <div class="livro-info">
        <h2>Poder & Manipula√ß√£o ‚Äì Jacob Petry</h2>
        <p>Aprenda a dominar t√©cnicas de persuas√£o, manipula√ß√£o psicol√≥gica e influ√™ncia estrat√©gica de forma avan√ßada.</p>
        <a href="livros/Poder-Manipula√ß√£o.html" class="botao">Ver detalhes</a>
      </div>
        <div class="livro-views"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/><span>0</span></div>
      </div>

<!-- Engenharia Social ‚Äì A Arte de Influenciar e N√£o Ser Influenciado -->
      <div class="livro" data-book="engenharia-social">
        <img src="livros/img/engenharia-social.png" alt="Engenharia Social">
        <div class="livro-info">
        <h2>Engenharia Social ‚Äì Jacob Petry</h2>
        <p>Descubra como influenciar pessoas de forma √©tica e evitar ser manipulado atrav√©s de t√©cnicas de engenharia social.</p>
        <a href="livros/engenharia-social.html" class="botao">Ver detalhes</a>
      </div>
      <div class="livro-views"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/><span>0</span></div>
      </div>

<!-- Manipula√ß√£o Oculta -->
    <div class="livro" data-book="manipulacao-oculta">
      <img src="livros/img/manipula√ßao-oculta.png" alt="Manipula√ß√£o Oculta">
      <div class="livro-info">
      <h2>Manipula√ß√£o Oculta</h2>
      <p>Aprenda t√©cnicas secretas de manipula√ß√£o e persuas√£o, com foco em psicologia e percep√ß√£o das pessoas.</p>
      <a href="livros/manipulacao-oculta.html" class="botao">Ver detalhes</a>
    </div>
      <div class="livro-views"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/><span>0</span></div>
    </div>

<!-- Sedu√ß√£o Maquiav√©lica -->
    <div class="livro" data-book="seducao-maquiavelica">
      <img src="livros/img/sedu√ßao-maquiavelica.png" alt="Sedu√ß√£o Maquiav√©lica">
      <div class="livro-info">
      <h2>Sedu√ß√£o Maquiav√©lica</h2>
      <p>Domine a arte da sedu√ß√£o e hipnose psicol√≥gica com estrat√©gias sofisticadas e dark.</p>
      <a href="livros/seducao-maquiavelica.html" class="botao">Ver detalhes</a>
    </div>
      <div class="livro-views"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/><span>0</span></div>
    </div>
<!-- O Que Todo Corpo Fala ‚Äì Joe Navarro -->
	<div class="livro" data-book="o-que-todo-corpo-fala">
 	 <img src="livros/img/oque-todo-corpo-fala.png" alt="O Que Todo Corpo Fala">
 	 <div class="livro-info">
     <h2>O Que Todo Corpo Fala ‚Äì Joe Navarro</h2>
     <p>Aprenda a decodificar a linguagem corporal, identificar emo√ß√µes ocultas e dominar a comunica√ß√£o n√£o verbal para influenciar e compreender melhor as pessoas.</p>
     <a href="livros/oque-todo-corpo-fala.html" class="botao">Ver detalhes</a>
   </div>
   <div class="livro-views">
    <img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/> <span>0</span> </div>
</div>
		<!-- Como Convencer Algu√©m em 90 Segundos ‚Äì Nicholas Boothman -->
<div class="livro" data-book="como-convencer-alguem-em-90-segundos">
  <img src="livros/img/como-convencer-alguem-90-seg.png" alt="Como Convencer Algu√©m em 90 Segundos">
  <div class="livro-info">
    <h2>Como Convencer Algu√©m em 90 Segundos ‚Äì Nicholas Boothman</h2>
    <p>Aprenda t√©cnicas r√°pidas e eficazes para conquistar empatia, confian√ßa e influ√™ncia logo nos primeiros segundos de qualquer conversa.</p>
    <a href="livros/como-convencer-90-seg.html" class="botao">Ver detalhes</a>
  </div>
  <div class="livro-views">
    <img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/>
    <span>0</span>
  </div>
</div>
		<!-- A Arte de Ler Mentes ‚Äì Henrik Fexeus -->
<div class="livro" data-book="a-arte-de-ler-mentes">
  <img src="livros/img/arte-de-ler-mentes.png" alt="A Arte de Ler Mentes">
  <div class="livro-info">
    <h2>A Arte de Ler Mentes ‚Äì Henrik Fexeus</h2>
    <p>Aprenda a interpretar gestos, express√µes e microrea√ß√µes para entender o que as pessoas realmente pensam, mesmo sem dizer uma palavra.</p>
    <a href="livros/arte-de-ler-mentes.html" class="botao">Ver detalhes</a>
  </div>
  <div class="livro-views">
    <img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/>
    <span>0</span>
  </div>
</div>
		<!-- O Homem Mais Rico da Babil√¥nia -->
<div class="livro" data-book="o-homem-mais-rico-da-babilonia">
  <img src="livros/img/babilonia.png" alt="O Homem Mais Rico da Babil√¥nia ‚Äì George S. Clason">
  <div class="livro-info">
    <h2>O Homem Mais Rico da Babil√¥nia ‚Äì George S. Clason</h2>
    <p>Descubra princ√≠pios atemporais de riqueza e prosperidade atrav√©s de li√ß√µes simples e pr√°ticas para dominar suas finan√ßas.</p>
    <a href="livros/babilonia.html" class="botao">Ver detalhes</a>
  </div>
  <div class="livro-views">
    <img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/>
    <span>0</span>
  </div>
</div>


<div id="painelAdmin" style="display:none;">
  <!-- Abas -->
  <div class="tabs">
    <button class="active" data-tab="resumo">Resumo</button>
    <button data-tab="livros">Livros</button>
    <button data-tab="grafico">Gr√°ficos</button>
    <button data-tab="acessos">Acessos</button>
  </div>

  <!-- Conte√∫do das abas -->
  <div class="tab-content" id="tabContent"></div>
</div>

    </div>

    <!-- Contador total -->
    <div id="total-visits">
      <img src="https://img.icons8.com/ios-glyphs/30/ffffff/visible.png"/>
      <span id="totalVisits">0</span>
    </div>
  </div>

  <!-- RODAP√â -->
  <footer>
  <p>¬© 2025 Biblioteca Online</p>
  <p>
    <a href="pol√≠tica-e-privacidade.html" target="_blank" rel="noopener noreferrer">Pol√≠tica de Privacidade</a> | 
    <a href="termos-de-uso.html" target="_blank" rel="noopener noreferrer">Termos de Uso</a> | 
    <a href="https://www.instagram.com/modo1porcent/" target="_blank" rel="noopener noreferrer">Instagram</a> | 
    <a href="https://wa.me/qr/7LPD66PY3ZJ2H1" target="_blank" rel="noopener noreferrer">Reclame Aqui</a>
  </p>
</footer>

  <!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<!-- GSAP para anima√ß√µes -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.14.1/gsap.min.js"></script>
	<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  // CONFIG FIREBASE
  const firebaseConfig = {
    apiKey: "AIzaSyClvq1ZwxUr1ACwXP0esfBbHR95U_QejWI",
    authDomain: "biblioteca-b73c3.firebaseapp.com",
    databaseURL: "https://biblioteca-b73c3-default-rtdb.firebaseio.com",
    projectId: "biblioteca-b73c3",
    storageBucket: "biblioteca-b73c3.firebasestorage.app",
    messagingSenderId: "19441912897",
    appId: "1:19441912897:web:e0a5ecde56a25657db0ac0",
    measurementId: "G-1FPNRPMM9R"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const auth = firebase.auth();

  // ------------------------------
  // CONTADOR TOTAL
  const totalVisitsEl = document.getElementById('totalVisits');
  const totalRef = db.ref('totalVisits');
  totalRef.once('value', snap => { if (!snap.val()) totalRef.set(0); });
  totalRef.on('value', snap => { totalVisitsEl.innerText = snap.val() || 0; });

  if (!sessionStorage.getItem("visited")) {
    totalRef.transaction(current => (current || 0) + 1);
    sessionStorage.setItem("visited", "true");
  }

  // ------------------------------
  // CONTADOR DE LIVROS
  const livros = document.querySelectorAll('.livro');
  livros.forEach(livro => {
    const key = livro.dataset.book;
    const ref = db.ref('books/' + key);
    ref.once('value', snap => { if (!snap.val()) ref.set(0); });
    const span = livro.querySelector('.livro-views span');
    ref.on('value', snap => { span.innerText = snap.val() || 0; });

    const link = livro.querySelector('.botao');
    const href = link.getAttribute("href");

    link.addEventListener('click', e => {
      e.preventDefault();
      ref.transaction(current => (current || 0) + 1, () => {
        livro.classList.add('flash');
        setTimeout(() => livro.classList.remove('flash'), 3500);
        totalRef.transaction(current => (current || 0) + 1);
        window.location = href;
      });
    });
  });
// ------------------------------
/** ---------------- ACESSOS ---------------- **/
if (tab === 'acessos') {
  tabContent.innerHTML = `
    <div id="map" style="height:400px;margin-bottom:20px;"></div>
    <table>
      <thead>
        <tr>
          <th>IP/ID</th>
          <th>√öltimo acesso</th>
          <th>Contagem</th>
          <th>Dispositivo</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  `;
  const tbody = tabContent.querySelector('tbody');

  db.ref('acessos').orderByChild('lastSeen').limitToLast(50).once('value', snap => {
    const acessos = snap.val() || {};
    const ordenados = Object.entries(acessos).sort((a, b) => b[1].lastSeen - a[1].lastSeen);

    // Inicializar mapa
    const map = L.map('map').setView([0, 0], 2);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '' }).addTo(map);

    ordenados.forEach(async ([key, val]) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${key}</td>
        <td>${new Date(val.lastSeen).toLocaleString()}</td>
        <td>${val.count}</td>
        <td>${(val.deviceType || 'Desconhecido')} / ${(val.deviceName || '')}</td>
      `;
      tbody.appendChild(tr);

      // Determinar coordenadas
      let lat = val.latitude || val.lat || null;
      let lng = val.longitude || val.lng || null;

      if (!lat || !lng) {
        try {
          const response = await fetch(`https://ipapi.co/${key.replace('ip_', '')}/json/`);
          const data = await response.json();
          lat = data.latitude || null;
          lng = data.longitude || null;

          if (lat && lng) {
            db.ref('acessos/' + key).update({ latitude: lat, longitude: lng });
            L.marker([lat, lng]).addTo(map)
              .bindPopup(`${key}<br>${val.count} acessos<br>${(val.deviceType || '')} / ${(val.deviceName || '')}`);
          }
        } catch (e) {
          console.error('Erro ao buscar localiza√ß√£o:', e);
        }
      } else {
        // J√° tem coordenadas
        L.marker([lat, lng]).addTo(map)
          .bindPopup(`${key}<br>${val.count} acessos<br>${(val.deviceType || '')} / ${(val.deviceName || '')}`);
      }
    });
  });
}

  
const painel = document.getElementById('painelAdmin');
const tabContent = document.getElementById('tabContent');
const abas = painel.querySelectorAll('.tabs button');

// Controle de abas
abas.forEach(btn => {
  btn.addEventListener('click', () => {
    abas.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    atualizarPainel(btn.dataset.tab);
  });
});

// Atalho Ctrl + Shift + V para abrir/fechar painel
document.addEventListener('keydown', e => {
  if (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === 'v') {
    painel.style.display = (painel.style.display === 'none' || painel.style.display === '') ? 'block' : 'none';
    if (painel.style.display === 'block') atualizarPainel('resumo');
  }
});

// Fun√ß√£o principal de atualiza√ß√£o do painel
function atualizarPainel(tab = 'resumo') {
  tabContent.innerHTML = '';

  /** ---------------- RESUMO ---------------- **/
  if (tab === 'resumo') {
    const resumoDiv = document.createElement('div');
    resumoDiv.classList.add('resumo-cards');
    tabContent.appendChild(resumoDiv);

    const cards = [
      { title: 'Total Visitas', ref: 'totalVisits', value: 0 },
      { title: 'Total Livros', ref: 'books', value: 0 },
      { title: 'Total IPs', ref: 'acessos', value: 0 },
      { title: 'Data/Hora', ref: null, value: '' }
    ];

    cards.forEach(c => {
      const card = document.createElement('div');
      card.classList.add('card');
      card.innerHTML = `<h3>${c.title}</h3><p>${c.value}</p>`;
      resumoDiv.appendChild(card);

      if (c.ref) {
        db.ref(c.ref).once('value', snap => {
          if (c.ref === 'books') card.querySelector('p').innerText = Object.keys(snap.val() || {}).length;
          else if (c.ref === 'acessos') card.querySelector('p').innerText = Object.keys(snap.val() || {}).length;
          else card.querySelector('p').innerText = snap.val() || 0;
        });
      } else {
        function updateTime() {
          const agora = new Date();
          card.querySelector('p').innerText = agora.toLocaleString();
        }
        updateTime();
        setInterval(updateTime, 1000);
      }
    });
  }

  /** ---------------- LIVROS ---------------- **/
  if (tab === 'livros') {
    const tabela = document.createElement('table');
    tabela.innerHTML = `<thead><tr><th>Livro</th><th>Visitas</th></tr></thead><tbody></tbody>`;
    tabContent.appendChild(tabela);
    const tbody = tabela.querySelector('tbody');

    db.ref('books').once('value', snap => {
      const livros = snap.val() || {};
      Object.entries(livros).forEach(([livro, count]) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${livro}</td><td>${count}</td>`;
        tbody.appendChild(tr);
      });
    });
  }

  /** ---------------- GRAFICOS ---------------- **/
  if (tab === 'grafico') {
    tabContent.innerHTML = `
      <canvas id="graficoCanvas" style="height:400px;"></canvas>
      <div id="top3Livros" style="margin-top:10px;"></div>
    `;
    const ctx = document.getElementById('graficoCanvas').getContext('2d');
    const topDiv = document.getElementById('top3Livros');

    db.ref('books').once('value', snap => {
      const livros = snap.val() || {};
      const nomes = Object.keys(livros);
      const valores = Object.values(livros);

      const top3 = Object.entries(livros).sort((a, b) => b[1] - a[1]).slice(0, 3);
      topDiv.innerHTML = `<h4>Top 3 livros mais acessados:</h4><ol>${top3.map(([l, c]) => `<li>${l}: ${c}</li>`).join('')}</ol>`;

      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: nomes,
          datasets: [{
            label: 'Visitas por Livro',
            data: valores,
            backgroundColor: 'rgba(0,191,255,0.7)',
            borderColor: 'rgba(0,191,255,1)',
            borderWidth: 1
          }]
        },
        options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true } } }
      });
    });
  }

 /** ---------------- ACESSOS ---------------- **/
if (tab === 'acessos') {
  tabContent.innerHTML = `
    <div id="map" style="height:400px;margin-bottom:20px;"></div>
    <table>
      <thead>
        <tr>
          <th>IP/ID</th>
          <th>√öltimo acesso</th>
          <th>Contagem</th>
          <th>Dispositivo</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  `;
  const tbody = tabContent.querySelector('tbody');

  db.ref('acessos').orderByChild('lastSeen').limitToLast(50).once('value', snap => {
    const acessos = snap.val() || {};
    const ordenados = Object.entries(acessos).sort((a, b) => b[1].lastSeen - a[1].lastSeen);

    // Inicializar mapa
    const map = L.map('map').setView([0, 0], 2);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '' }).addTo(map);

    ordenados.forEach(async ([key, val]) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${key}</td>
        <td>${new Date(val.lastSeen).toLocaleString()}</td>
        <td>${val.count}</td>
        <td>${(val.deviceType || 'Desconhecido')} / ${(val.deviceName || '')}</td>
      `;
      tbody.appendChild(tr);

      // Determinar coordenadas para o marcador
      let lat = val.latitude || val.lat || null;
      let lng = val.longitude || val.lng || null;

      if (!lat || !lng) {
        // Busca localiza√ß√£o aproximada pelo IP se n√£o tiver
        try {
          const response = await fetch(`https://ipapi.co/${key.replace('ip_', '')}/json/`);
          const data = await response.json();
          lat = data.latitude || null;
          lng = data.longitude || null;
          if (lat && lng) {
            db.ref('acessos/' + key).update({ latitude: lat, longitude: lng });
            L.marker([lat, lng]).addTo(map)
              .bindPopup(`${key}<br>${val.count} acessos<br>${(val.deviceType || '')} / ${(val.deviceName || '')}`);
          }
        } catch (e) {
          console.error('Erro ao buscar localiza√ß√£o:', e);
        }
      } else {
        // J√° tem coordenadas
        L.marker([lat, lng]).addTo(map)
          .bindPopup(`${key}<br>${val.count} acessos<br>${(val.deviceType || '')} / ${(val.deviceName || '')}`);
      }
    });
  });
}


    // CARROSSEL
    const track = document.getElementById('carousel-track');
    const items = document.querySelectorAll('.carousel-item');
    let currentIndex = 0;

    function updateCarousel() {
      items.forEach(item => item.classList.remove('active'));
      items[currentIndex].classList.add('active');
      const offset = (items[currentIndex].offsetLeft + items[currentIndex].offsetWidth/2) - track.offsetWidth/2;
      track.style.transform = `translateX(${-offset}px)`;
    }

    document.getElementById('prev').addEventListener('click', () => {
      currentIndex = (currentIndex-1+items.length)%items.length;
      updateCarousel();
    });

    document.getElementById('next').addEventListener('click', () => {
      currentIndex = (currentIndex+1)%items.length;
      updateCarousel();
    });

    let startX=0;
    track.addEventListener('touchstart', e => { startX=e.touches[0].clientX; });
    track.addEventListener('touchend', e => {
      let diff=e.changedTouches[0].clientX-startX;
      if(diff>50){ currentIndex=(currentIndex-1+items.length)%items.length; }
      else if(diff<-50){ currentIndex=(currentIndex+1)%items.length; }
      updateCarousel();
    });

    setInterval(()=>{ currentIndex=(currentIndex+1)%items.length; updateCarousel(); },4000);
    updateCarousel();


// ===== ELEMENTOS =====
const searchIcon = document.getElementById("search-icon");
const searchBar = document.getElementById("search-bar");
const searchInput = document.getElementById("search-input");
const livrosLista = document.querySelectorAll(".livro");
const searchResults = document.getElementById("search-results");
const carrossel = document.getElementById("carousel-container");
const categoryBtn = document.getElementById("category-btn");
const categoryMenu = document.getElementById("category-menu");
const header = document.querySelector("header"); // pegue o header uma vez

const categorias = {
  "invisivel": ["autoajuda"],
  "potencial": ["motiva√ß√£o"],
  "48leis": ["poder"],
  "fbi": ["psicologia"],
  "influenciar-pessoas": ["autoajuda"],
  "poder-manipulacao": ["manipula√ß√£o", "poder"],
  "engenharia-social": ["manipula√ß√£o"],
  "manipulacao-oculta": ["manipula√ß√£o"],
  "seducao-maquiavelica": ["estrat√©gia"],
  "o-que-todo-corpo-fala": ["Comportamento Humano"],
  "como-convencer-alguem-em-90-segundos": ["manipula√ß√£o", "Comportamento Humano"],
  "a-arte-de-ler-mentes": ["manipula√ß√£o", "Comportamento Humano"],
  "o-homem-mais-rico-da-babilonia": ["Finan√ßas", "autoajuda", "estrat√©gia"]
};

// ===== FUN√á√ÉO PARA CRIAR CARDS =====
function criarGridLivros(lista) {
  searchResults.innerHTML = "";
  lista.forEach(livro => {
    const titulo = livro.querySelector("h2")?.innerText || "Sem t√≠tulo";
    const imagem = livro.querySelector("img")?.src || "";
    const card = document.createElement("div");
    card.classList.add("card-livro");
    card.innerHTML = `
      <img src="${imagem}" alt="${titulo}">
      <h4>${titulo}</h4>
    `;
	   const botaoHref = livro.querySelector(".botao")?.href;
    if (botaoHref) {
      card.addEventListener("click", () => {
        window.location.href = botaoHref;
      });
    }

    searchResults.appendChild(card);
  });
}

// ===== MOSTRAR GRID =====
function mostrarGrid(livros) {
  livrosLista.forEach(l => l.style.display = "none");
  if (carrossel) carrossel.style.display = "none";
  searchResults.style.display = "grid";
  criarGridLivros(livros);

  // esconder header
  if (header) header.style.display = "none";
}

function restaurarLayout() {
  searchResults.style.display = "none";
  searchResults.innerHTML = "";
  livrosLista.forEach(l => l.style.display = "flex");
  if (carrossel) carrossel.style.display = "block";

  // mostrar header
  if (header) header.style.display = "block";
}
// ===== MENU DE CATEGORIAS =====
categoryBtn.addEventListener("click", () => {
  categoryMenu.classList.toggle("active");

  // Troca o texto do bot√£o
  if (categoryMenu.classList.contains("active")) {
    categoryBtn.textContent = "<"; // quando aberto, mostrar "<"
  } else {
    categoryBtn.textContent = "‚ò∞ Categoria"; // quando fechado, voltar ao normal
  }
});

document.querySelectorAll("#category-menu li").forEach(item => {
  item.addEventListener("click", () => {
    const categoria = item.dataset.category;
    categoryMenu.classList.remove("active");

    // Volta o bot√£o ao estado normal quando fecha ao clicar em uma categoria
    categoryBtn.textContent = "‚ò∞ Categoria";

    if (categoria === "todos") {
      mostrarGrid(Array.from(livrosLista)); // mostra todos os livros em grid
      return;
    }

    const livrosFiltrados = Array.from(livrosLista).filter(livro => {
      const key = livro.dataset.book;
     return categorias[key].includes(categoria);

    });

    mostrarGrid(livrosFiltrados);
  });
});

// ===== PESQUISA ANIMADA =====

const animatedSVG = `
<svg width="40" height="40" viewBox="0 0 100 100">
  <!-- Lupa -->
  <circle id="lens" cx="40" cy="40" r="20" stroke="white" stroke-width="5" fill="none"/>
  <line id="handle" x1="55" y1="55" x2="75" y2="75" stroke="white" stroke-width="5"/>
  <!-- Casinha -->
  <polygon id="house" points="25,60 50,35 75,60 75,85 25,85" fill="white" scale="0" opacity="0"/>
</svg>
`;
searchIcon.innerHTML = animatedSVG;

let mostrandoPesquisa = false;

searchIcon.addEventListener("click", () => { 
  const lens = document.getElementById("lens");
  const handle = document.getElementById("handle");
  const house = document.getElementById("house");

  mostrandoPesquisa = !mostrandoPesquisa;

  if(mostrandoPesquisa){
    searchBar.classList.add("active");
    mostrarGrid(Array.from(livrosLista));
    searchInput.focus();

    // Anima√ß√£o da lupa virando casa
    gsap.to(lens, {duration: 0.5, scale:0.5, transformOrigin:"50% 50%", opacity:0});
    gsap.to(handle, {duration: 0.5, rotate: -45, transformOrigin:"50% 50%", opacity:0});
    gsap.to(house, {duration: 0.5, scale:1, opacity:1, transformOrigin:"50% 50%", delay:0.5});
    
  } else {
    searchBar.classList.remove("active");
    restaurarLayout();
    searchInput.value = "";
    window.scrollTo({ top: 0, behavior: "smooth" });

    // Anima√ß√£o da casa voltando para lupa
    gsap.to(house, {duration:0.5, scale:0, opacity:0});
    gsap.to(lens, {duration:0.5, scale:1, opacity:1, delay:0.5});
    gsap.to(handle, {duration:0.5, rotate:0, opacity:1, delay:0.5});
  }
});
	  // ===== FILTRAR LIVROS ENQUANTO DIGITA =====
searchInput.addEventListener("input", () => {
  const termo = searchInput.value.toLowerCase().trim();
  if (termo === "") {
    restaurarLayout(); // se n√£o tiver nada digitado, volta ao layout normal
    return;
  }

    // Filtra os livros cujo t√≠tulo ou descri√ß√£o cont√©m o termo
  const livrosFiltrados = Array.from(livrosLista).filter(livro => {
    const titulo = livro.querySelector("h2")?.innerText.toLowerCase() || "";
    const descricao = livro.querySelector("p")?.innerText.toLowerCase() || "";
    return titulo.includes(termo) || descricao.includes(termo);
  });

  mostrarGrid(livrosFiltrados);
});

	   searchInput.addEventListener("input", () => {
  const termo = searchInput.value.toLowerCase().trim();
  if (termo === "") {
    restaurarLayout();
    return;
  }

  // Filtra os livros cujo t√≠tulo cont√©m o termo
  const livrosFiltrados = Array.from(livrosLista).filter(livro => {
    const titulo = livro.querySelector("h2")?.innerText.toLowerCase() || "";
    return titulo.includes(termo);
  });

  if (livrosFiltrados.length === 0) {
    searchResults.innerHTML = `<p style="color:#fff; padding: 170px 0; text-align:center; font-size:1.5rem; grid-column: 1/-1;">üìñ Livro n√£o encontrado!</p>`;
    livrosLista.forEach(l => l.style.display = "none");
    if (carrossel) carrossel.style.display = "none";
    searchResults.style.display = "grid";
  } else {
    mostrarGrid(livrosFiltrados);
  }
});


</script>

</body>
</html>



